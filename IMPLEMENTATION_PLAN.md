# 기도제목 커뮤니티 웹앱 구현 계획

## 📋 프로젝트 개요

- **프로젝트명**: Together Pray (가칭)
- **목표**: 기도제목 중심 커뮤니티 PoC 구축
- **기간**: 2-4주 테스트 목표
- **기술 스택**:
  - Frontend: Next.js + React
  - Backend: NestJS
  - Database: PostgreSQL
  - Auth: Email-based authentication

---

## 🎯 Phase 1: 프로젝트 초기 설정 (1-2일)

### 1.1 개발 환경 구성
- [ ] Node.js 환경 확인 (v18+)
- [ ] PostgreSQL 설치 및 설정
- [ ] Git 저장소 초기화
- [ ] 프로젝트 폴더 구조 설계

### 1.2 백엔드 프로젝트 설정
- [ ] NestJS 프로젝트 생성
- [ ] TypeORM 설정
- [ ] 환경변수 설정 (.env)
- [ ] ESLint/Prettier 설정

### 1.3 프론트엔드 프로젝트 설정
- [ ] Next.js 프로젝트 생성 (App Router)
- [ ] TailwindCSS 설정
- [ ] TypeScript 설정
- [ ] 폴더 구조 설계 (components, pages, lib)

### 1.4 데이터베이스 설계
- [ ] ERD 작성
- [ ] 테이블 정의
  - users
  - groups
  - group_members
  - prayer_items
  - prayer_updates
  - prayer_reactions
  - comments (optional)

---

## 🔐 Phase 2: 인증 시스템 구현 (2-3일)

### 2.1 백엔드 인증
- [ ] User 엔티티 생성
- [ ] 회원가입 API (POST /auth/signup)
- [ ] 로그인 API (POST /auth/login)
- [ ] JWT 토큰 발급 로직
- [ ] 비밀번호 해싱 (bcrypt)
- [ ] 인증 가드 구현

### 2.2 프론트엔드 인증
- [ ] 회원가입 페이지 (/signup)
- [ ] 로그인 페이지 (/login)
- [ ] 토큰 저장 로직 (localStorage/cookie)
- [ ] Protected Route 구현
- [ ] 인증 Context/Provider 설정

---

## 👥 Phase 3: 그룹 기능 구현 (2-3일)

### 3.1 백엔드 그룹 API
- [ ] Group 엔티티 생성
- [ ] GroupMember 엔티티 생성
- [ ] 그룹 생성 API (POST /groups) - 관리자만
- [ ] 그룹 목록 조회 (GET /groups)
- [ ] 그룹 상세 조회 (GET /groups/:id)
- [ ] 초대 링크 생성 로직
- [ ] 그룹 참여 API (POST /groups/:id/join)

### 3.2 프론트엔드 그룹
- [ ] 그룹 선택 화면
- [ ] 그룹 생성 폼 (관리자)
- [ ] 초대 링크 복사 기능
- [ ] 그룹 참여 화면

---

## 🙏 Phase 4: 기도제목 핵심 기능 (4-5일)

### 4.1 백엔드 기도제목 API
- [ ] PrayerItem 엔티티 생성
- [ ] 기도제목 생성 (POST /prayer-items)
  - 제목, 내용, 카테고리, 익명 여부
- [ ] 기도제목 목록 조회 (GET /groups/:id/prayer-items)
  - 상태별 필터 (기도중/부분응답/응답완료)
- [ ] 기도제목 상세 조회 (GET /prayer-items/:id)
- [ ] 기도제목 상태 변경 (PATCH /prayer-items/:id/status)
- [ ] 기도제목 삭제 (DELETE /prayer-items/:id)

### 4.2 프론트엔드 기도제목
- [ ] 기도제목 리스트 화면
  - 카드형 레이아웃
  - 상태 뱃지 표시
- [ ] 기도제목 작성 폼
  - 익명 옵션
  - 카테고리 선택
- [ ] 기도제목 상세 화면
  - 작성자 정보
  - 상태 변경 버튼 (작성자만)
  - 삭제 버튼 (작성자만)

---

## 📝 Phase 5: 업데이트 기능 (2일)

### 5.1 백엔드 업데이트 API
- [ ] PrayerUpdate 엔티티 생성
- [ ] 업데이트 작성 (POST /prayer-items/:id/updates)
- [ ] 업데이트 목록 조회 (GET /prayer-items/:id/updates)
- [ ] 업데이트 삭제 (DELETE /updates/:id)

### 5.2 프론트엔드 업데이트
- [ ] 타임라인 UI 컴포넌트
- [ ] 업데이트 작성 폼
- [ ] 시간순 정렬 표시

---

## 🙏 Phase 6: 함께 기도하기 기능 (2일)

### 6.1 백엔드 기도 반응 API
- [ ] PrayerReaction 엔티티 생성
- [ ] 기도 클릭 기록 (POST /prayer-items/:id/pray)
  - 하루 1회 제한 로직
- [ ] 기도한 사람 수 조회
- [ ] 기도한 사용자 목록 (선택)

### 6.2 프론트엔드 기도 반응
- [ ] 기도 버튼 UI
- [ ] 기도 카운트 표시
- [ ] 중복 클릭 방지 (당일)
- [ ] 기도한 사람 목록 모달 (선택)

---

## ⭐ Phase 7: 응답된 기도 모아보기 (1-2일)

### 7.1 백엔드
- [ ] 응답 완료된 기도 필터 API
- [ ] 그룹별 응답 통계

### 7.2 프론트엔드
- [ ] 응답된 기도 전용 페이지
- [ ] 최근순 정렬
- [ ] 그룹별 필터

---

## 💬 Phase 8: 댓글 기능 (선택, 1-2일)

### 8.1 백엔드
- [ ] Comment 엔티티 생성
- [ ] 댓글 CRUD API

### 8.2 프론트엔드
- [ ] 댓글 리스트 UI
- [ ] 댓글 작성 폼

---

## 👤 Phase 9: 마이페이지 (1-2일)

### 9.1 백엔드
- [ ] 내가 작성한 기도 조회
- [ ] 내가 기도한 기도 조회
- [ ] 프로필 수정 API

### 9.2 프론트엔드
- [ ] 마이페이지 레이아웃
- [ ] 내 기도 목록
- [ ] 내가 기도한 기도 목록
- [ ] 닉네임 변경 폼

---

## 🧪 Phase 10: 테스트 및 검증 (2-3일)

### 10.1 백엔드 테스트
- [ ] 주요 API 유닛 테스트
- [ ] 인증 플로우 테스트
- [ ] 권한 검증 테스트

### 10.2 프론트엔드 테스트
- [ ] 주요 페이지 렌더링 테스트
- [ ] 폼 validation 테스트
- [ ] 모바일 반응형 확인

### 10.3 통합 테스트
- [ ] 전체 사용자 플로우 테스트
- [ ] 크로스 브라우저 테스트
- [ ] 성능 측정 (페이지 로딩 2초 이내)

---

## 🚀 Phase 11: 배포 준비 (2-3일)

### 11.1 백엔드 배포
- [ ] 환경변수 분리 (dev/prod)
- [ ] PostgreSQL 프로덕션 설정
- [ ] NestJS 빌드 및 배포 (Vercel/Railway/AWS)
- [ ] HTTPS 설정

### 11.2 프론트엔드 배포
- [ ] Next.js 빌드 최적화
- [ ] Vercel/Netlify 배포
- [ ] 환경변수 설정 (API URL)

### 11.3 모니터링
- [ ] 에러 로깅 설정
- [ ] 기본 분석 도구 연동 (선택)

---

## 📊 Phase 12: PoC 운영 및 데이터 수집 (2-4주)

### 12.1 테스트 그룹 모집
- [ ] 교회/소그룹 2-3곳 섭외
- [ ] 사용 가이드 작성
- [ ] 초대 링크 전달

### 12.2 KPI 측정
- [ ] 주간 활성 사용자 (그룹 인원 50% 이상 목표)
- [ ] 기도제목당 평균 기도 클릭 수 (3회 이상 목표)
- [ ] 기도제목 업데이트율 (30% 이상 목표)
- [ ] 응답 완료 비율 (정성 평가)

### 12.3 피드백 수집
- [ ] 사용자 인터뷰
- [ ] 개선 사항 정리
- [ ] 다음 단계 결정

---

## 🎯 우선순위 정리

### Must Have (PoC 필수)
1. ✅ 인증 시스템
2. ✅ 그룹 기능
3. ✅ 기도제목 CRUD
4. ✅ 함께 기도하기
5. ✅ 응답된 기도 모아보기

### Should Have
6. 업데이트 타임라인
7. 마이페이지

### Nice to Have
8. 댓글 기능
9. 카테고리 필터
10. 통계 대시보드

---

## 📅 예상 일정

| Phase | 작업 내용 | 예상 기간 |
|-------|---------|----------|
| 1 | 프로젝트 설정 | 1-2일 |
| 2 | 인증 시스템 | 2-3일 |
| 3 | 그룹 기능 | 2-3일 |
| 4 | 기도제목 핵심 | 4-5일 |
| 5 | 업데이트 기능 | 2일 |
| 6 | 함께 기도하기 | 2일 |
| 7 | 응답된 기도 | 1-2일 |
| 8 | 댓글 (선택) | 1-2일 |
| 9 | 마이페이지 | 1-2일 |
| 10 | 테스트 | 2-3일 |
| 11 | 배포 | 2-3일 |
| **합계** | | **20-28일** |

---

## 🛠️ 개발 원칙

1. **모바일 우선**: 모든 UI는 모바일에서 먼저 확인
2. **단순함 유지**: PoC 단계에서는 최소 기능만 구현
3. **빠른 검증**: 완벽보다는 빠른 사용자 피드백
4. **보안 우선**: 그룹 외부 접근 철저히 차단
5. **측정 가능**: 모든 핵심 기능에 사용 로그 추가

---

## 📝 다음 단계

1. ✅ ERD 설계 완료
2. ✅ API 명세서 작성
3. ✅ 와이어프레임 스케치
4. 개발 착수
